# Task discussion T064: –†–ï–î–ò–ó–ê–ô–ù –ê–∫—Ç–∞ 2: –£–±—Ä–∞—Ç—å –∑–∞–º–æ–∫ –∏ –∫–Ω–æ–ø–∫—É '–æ—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å', —Å–¥–µ–ª–∞—Ç—å –ø–æ–∏—Å–∫ –≤—Å–µ—Ö –ø–æ–¥–≥—Ä—É–ø–ø

## [2026-02-27 13:24] boss (author)

### Task description

–ö–û–ù–¢–ï–ö–°–¢: –¢–µ–∫—É—â–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞ –ê–∫—Ç–∞ 2 ‚Äî –∏–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç –∫–ª—é—á–∏ —á–µ–∫–±–æ–∫—Å–∞–º–∏, –∂–º—ë—Ç '–û–¢–ö–†–´–¢–¨ –î–í–ï–†–¨', –≤–∏–¥–∏—Ç –∑–∞–º–æ–∫ üîí/‚úÖ. –≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥. –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω:

–ù–û–í–ê–Ø –ú–ï–•–ê–ù–ò–ö–ê:
–ò–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –ù–ê–ô–¢–ò –í–°–ï –Ω–∞–±–æ—Ä—ã –∫–ª—é—á–µ–π (–ø–æ–¥–≥—Ä—É–ø–ø—ã). –ö–∞–∂–¥—ã–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è. –ò–≥—Ä–æ–∫ –≤–∏–¥–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å: –∫–∞–∫–∏–µ –Ω–∞–±–æ—Ä—ã —É–∂–µ –Ω–∞–π–¥–µ–Ω—ã, —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å.

–ß–¢–û –£–ë–†–ê–¢–¨:
1. –ö–Ω–æ–ø–∫—É '–û–¢–ö–†–´–¢–¨ –î–í–ï–†–¨' (_open_button, _on_open_pressed)
2. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∑–∞–º–∫–∞ (üîí/‚úÖ –∏–∫–æ–Ω–∫–∏ –≤ door labels)
3. –ö–æ–Ω—Ü–µ–ø—Ü–∏—é '–¥–≤–µ—Ä–∏' –∏–∑ UI (–¥–≤–µ—Ä–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∏–≥—Ä–æ–∫—É –∫–∞–∫ –∑–∞–º–∫–∏)

–ß–¢–û –î–û–ë–ê–í–ò–¢–¨:
1. –ü–∞–Ω–µ–ª—å '–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ–¥–≥—Ä—É–ø–ø—ã' ‚Äî —Å–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ –∫–ª—é—á–µ–π
   - –ö–∞–∂–¥—ã–π –Ω–∞–±–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –≥—Ä—É–ø–ø–∞ –∏–º—ë–Ω –∫–ª—é—á–µ–π: '{e, r1, r2}' 
   - –° –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø–æ–¥–≥—Ä—É–ø–ø—ã –µ—Å–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –≤ JSON: 'Z3 ‚Äî –≤—Ä–∞—â–µ–Ω–∏—è'
   - –°—Ç–∞—Ç—É—Å: –Ω–∞–π–¥–µ–Ω / –Ω–µ –Ω–∞–π–¥–µ–Ω
2. –°—á—ë—Ç—á–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞: '–ü–æ–¥–≥—Ä—É–ø–ø—ã: 1 / 3'
3. –ö–Ω–æ–ø–∫–∞ '–ü–†–û–í–ï–†–ò–¢–¨ –ù–ê–ë–û–†' (–≤–º–µ—Å—Ç–æ '–û–¢–ö–†–´–¢–¨ –î–í–ï–†–¨') ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏:
   - –ï—Å–ª–∏ –ø–æ–¥–≥—Ä—É–ø–ø–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç feedback
   - –ï—Å–ª–∏ –Ω–µ –ø–æ–¥–≥—Ä—É–ø–ø–∞ ‚Üí –æ–±—ä—è—Å–Ω—è–µ—Ç –ø–æ—á–µ–º—É (–Ω–µ—Ç —Ç–æ–∂–¥–µ—Å—Ç–≤–∞, –Ω–µ –∑–∞–º–∫–Ω—É—Ç–æ, –Ω–µ—Ç –æ–±—Ä–∞—Ç–Ω—ã—Ö)
   - –ï—Å–ª–∏ —É–∂–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí '–≠—Ç–æ—Ç –Ω–∞–±–æ—Ä —É–∂–µ –Ω–∞–π–¥–µ–Ω'
4. Win condition: –≤—Å–µ –ø–æ–¥–≥—Ä—É–ø–ø—ã —Å is_inner_door=true –Ω–∞–π–¥–µ–Ω—ã

–î–ê–ù–ù–´–ï (JSON —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç):
- subgroups[].is_inner_door = true ‚Üí —ç—Ç–æ —Ü–µ–ª–µ–≤–∞—è –ø–æ–¥–≥—Ä—É–ø–ø–∞
- subgroups[].elements ‚Üí —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–¥–≥—Ä—É–ø–ø—ã
- subgroups[].name ‚Üí –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- Level 13: 1 —Ü–µ–ª–µ–≤–∞—è –ø–æ–¥–≥—Ä—É–ø–ø–∞ (Z3_rotations)
- Level 14: 7 —Ü–µ–ª–µ–≤—ã—Ö –ø–æ–¥–≥—Ä—É–ø–ø
- Level 15: 2 —Ü–µ–ª–µ–≤—ã–µ –ø–æ–¥–≥—Ä—É–ø–ø—ã
- Level 16: 7 —Ü–µ–ª–µ–≤—ã—Ö –ø–æ–¥–≥—Ä—É–ø–ø

–§–ê–ô–õ–´ –î–õ–Ø –ò–ó–ú–ï–ù–ï–ù–ò–Ø:
1. src/game/inner_door_panel.gd ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –£–±—Ä–∞—Ç—å _open_button, lock icons
   - –î–æ–±–∞–≤–∏—Ç—å found_subgroups: Array, subgroup progress counter
   - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ subgroup_panel.gd (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –∏–º—è, –Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É)
   - –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ get_state() –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å found/total –ø–æ–¥–≥—Ä—É–ø–ø—ã
2. src/game/level_scene.gd ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø–∞–Ω–µ–ª—å—é
3. src/agent/agent_bridge.gd ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å select_keys –∏ try_open_door –∫–æ–º–∞–Ω–¥—ã
   - try_open_door ‚Üí check_subgroup_set (–∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å)

–ö–†–ò–¢–ï–†–ò–ô DONE:
- Level 13: –∏–≥—Ä–æ–∫ –Ω–∞—Ö–æ–¥–∏—Ç 1 –ø–æ–¥–≥—Ä—É–ø–ø—É Z3, –≤–∏–¥–∏—Ç '–ü–æ–¥–≥—Ä—É–ø–ø—ã: 1/1', —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω
- Level 14: –∏–≥—Ä–æ–∫ –Ω–∞—Ö–æ–¥–∏—Ç 7 –ø–æ–¥–≥—Ä—É–ø–ø, –≤–∏–¥–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å, —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω –ø–æ—Å–ª–µ 7/7
- –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ '–û–¢–ö–†–´–¢–¨ –î–í–ï–†–¨', –Ω–µ—Ç –∑–∞–º–∫–æ–≤ üîí
- AgentBridge –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ

### Acceptance criteria

[To be clarified]

---
