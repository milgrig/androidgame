# Task discussion T087: Implement Layer 2 engine: inverse key detection and validation

## [2026-02-27 18:50] boss (author)

### Task description

CONTEXT: Architecture from T086. Layer 2 = find inverse for each automorphism.\n\nTASK:\n1. Read architecture from .tayfa/architect/T086_LAYER2_ARCHITECTURE.md\n2. Implement the inverse key validation logic in core/\n3. Extend permutation.gd if needed (inverse() method should already exist)\n4. Extend key_ring.gd to track which keys have found inverses\n5. Extend hall_progression_engine.gd to track Layer 2 progress\n6. Add layer concept to game_manager.gd (current_layer, layer unlocking)\n7. Write unit tests for all new logic\n\nVERIFICATION:\n- Inverse detection works for all permutation types\n- Layer 2 progress tracked correctly\n- All unit tests pass

### Acceptance criteria

[To be clarified]

---
