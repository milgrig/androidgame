# Task discussion T128: Расширить QuotientGroupManager для интерактивной валидации

## [2026-03-02 11:51] boss (author)

### Task description

Добавить в quotient_group_manager.gd API для двухшаговой головоломки:

ШАГ 1 API:
- validate_element_in_coset(sg_index, element_sym_id, coset_index) -> bool: проверяет, принадлежит ли элемент данному классу смежности
- get_coset_size(sg_index) -> int: размер каждого класса = |N|
- get_num_cosets(sg_index) -> int: количество классов = |G/N|
- is_coset_assignment_complete(sg_index, assignments: Dictionary) -> bool: все элементы правильно распределены

ШАГ 2 API:
- check_quotient_type(sg_index, proposed_type: String) -> bool: правильно ли определён тип
- get_quotient_type(sg_index) -> String: вернуть правильный тип (для внутренней проверки)
- generate_type_options(sg_index) -> Array[String]: правильный + 2-3 отвлекающих

Новые сигналы:
- coset_assignment_validated(sg_index, is_correct: bool)
- quotient_type_guessed(sg_index, is_correct: bool)

Состояния конструкции:
- PENDING (не начата) -> COSETS_BUILDING (шаг 1) -> COSETS_DONE (шаг 1 завершён) -> TYPE_IDENTIFIED (шаг 2 завершён = полностью готово)

Убрать одношаговый construct_quotient() или переделать в двухфазный.

### Acceptance criteria

[To be clarified]

---
