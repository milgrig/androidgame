# Task discussion T057: БАГФИКС P0: Level loading падает после ~12 загрузок в AgentBridge

## [2026-02-27 11:19] boss (author)

### Task description

КОНТЕКСТ: T052 QA обнаружил — после ~12 последовательных load_level через AgentBridge, level_scene перестаёт находиться. Ответ: 'No level loaded'. Это блокирует 60%+ тестов.

ЗАДАЧА:
1. Воспроизвести: написать скрипт который грузит 15 уровней подряд через agent_client
2. Найти причину: вероятно _disconnect_level_signals или _ensure_level_scene теряет ссылку
3. Проверить утечки памяти: queue_free кристаллов/рёбер при _clear_level
4. Проверить timing: при change_scene_to_file может потребоваться ожидание frame
5. Исправить и убедиться что 20+ последовательных загрузок работают стабильно

ВЕРИФИКАЦИЯ: создать тест test_load_20_levels_sequentially.py:
  - Грузить level_01..level_12 по кругу 20 раз
  - Каждый раз проверять get_state() возвращает корректные данные
  - 0 ошибок

КРИТЕРИЙ DONE: 20 последовательных загрузок без единой ошибки.

### Acceptance criteria

[To be clarified]

---
