# Task discussion T060: РЕФАКТОРИНГ: Разделить LevelScene (2673 строки, 12 ответственностей)

## [2026-02-27 11:20] boss (author)

### Task description

КОНТЕКСТ: T054 Критик оценил code quality на 7/10 и предупредил: LevelScene — God Object с 2673 строками и 12 ответственностями. К Акту 3 он станет неподдерживаемым.

ЗАДАЧА — декомпозиция LevelScene:
1. Выделить ShuffleManager — перемешивание, начальные позиции, seed
2. Выделить SwapManager — drag-and-drop, perform_swap, arrangement tracking
3. Выделить ValidationManager — _validate_permutation, target_perms matching
4. Оставить в LevelScene только оркестрацию: load, build, connect managers

ПРАВИЛА:
- НЕ менять публичный API (perform_swap_by_id, submit_permutation, get_state и т.д.)
- НЕ менять сигналы (swap_performed, symmetry_found и т.д.)
- AgentBridge должен работать без изменений
- Все существующие тесты должны проходить

КРИТЕРИЙ DONE: LevelScene < 400 строк, каждый Manager < 300 строк, все тесты зелёные.

### Acceptance criteria

[To be clarified]

---
