# Task discussion T106: UI for Layer 4: cracking interface with three-slot maneuver zone

## [2026-02-28 10:18] boss (author)

### Task description

CONTEXT: Layer 4 engine from T105, architecture from T104. TASK: 1) Read architecture from .tayfa/architect/T104_LAYER4_ARCHITECTURE.md. 2) Create cracking_panel.gd in src/ui/: keyring selector (list of keyrings to test, state: untested/cracked/unbreakable), lockpick zone (keys in G but not in H), three-slot maneuver zone with drag targets, result display. 3) Implement drag-and-drop: drag g from lockpicks into slot 1, drag h from keyring into slot 2, g-1 auto-fills slot 3, Execute button performs composition. 4) Red color scheme for Layer 4 (distinct from gold L3). 5) Visual feedback: ghg-1 in H = green pulse on keyring, ghg-1 not in H = red crack animation with shatter effect. 6) Unbreakable button: appears after min attempts, glows when available. 7) Crystal animation: show the 3-step composition on crystals (apply g, apply h, apply g-1). 8) Update level_scene.gd for Layer 4 routing. 9) Keyring progress: show tested count and crack/unbreakable status. VERIFICATION: Drag-and-drop works, animations play, red theme visible, works on all group sizes.

### Acceptance criteria

[To be clarified]

---
